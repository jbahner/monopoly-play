@import de.htwg.se.monopoly.controller.GameStatus
@import de.htwg.se.monopoly.controller.Controller
@import de.htwg.se.monopoly.util.GeneralUtil
@import de.htwg.se.monopoly.model.boardComponent.Street

@(controller: Controller, htmlController: HomeController)

@main("Monopoly") {
    <head>
        <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/game.css")'/>
        <script src="@routes.Assets.versioned("javascripts/main.js")" type="text/javascript"></script>
    </head>

    <body id="mainBody">
        <div class="container">
            <div class="row">
                <span class="col-lg-1"></span>
                <span class="mainHeader border border-primary col-lg-10 col-md-10">
                    <p id="mainHeaderCurrentPlayer"><b>@controller.getCurrentPlayer.name</b></p>
                    <p id="mainHeaderCurrentMoney">Money @controller.getCurrentPlayer.money</p>
                </span>
            </div>
            <div class="row">
                <span class="col-lg-1"></span>
                <span class="infoText border border-primary col-lg-6 col-md-10 ">
                    <div class="infoText-div">
                        <span class="letters">
                        @for(lineOfText <- htmlController.getCurrentMessageWeb().split("\n").map(_.toString()).toList) {
                            @lineOfText
                        }
                        </span>
                        <script src="@routes.Assets.versioned("javascripts/animate_text.js")" type="text/javascript"></script>
                    </div>
                </span>
                <span class="col-lg-1"></span>
                <span class="buttons border border-primary col-lg-3 col-md-10 ">
                    @if(controller.controllerState == GameStatus.START_OF_TURN) {
                        <div class="btn-group buttonGroup">
                            <a href="/game/r">
                                <input type="button" value="Roll" class="btn btn-primary"/>
                            </a>
                            <a href="/game/q">
                                <input type="button" value="Quit Game" class="btn btn-danger"/>
                            </a>
                        </div>
                    }
                    @if(controller.controllerState == GameStatus.CAN_BUILD) {
                            <!--ul class="nav nav-tabs">
                            <li class="active">
                                <a href="#">Buying</a>
                                <p>stuff</p>
                            </li>
                            <li class="active">
                                <a href="#">Other</a>
                            </li>
                        </ul-->

                        <div id="buy-buttons" class="btn-group row buttonGroup">
                            <!--@for(fieldSet <- GeneralUtil.getWholeGroups(controller.getCurrentPlayer)) {
                                @for(ownedField <- fieldSet) {
                                    <div class="oneBuyBotton">
                                        <p class="house-par">
                                            @ownedField:
                                            @for(_ <- 0 until controller.getFieldByName(ownedField).get.asInstanceOf[Street].numHouses) {
                                                <img src="@routes.Assets.versioned("images/biggerHouse.png")" class="house" alt="alt?">
                                            }
                                            <script src="@routes.Assets.versioned("javascripts/animate_houses.js")" type="text/javascript"></script>
                                        </p>
                                        <button id="@ownedField" class="buy-button btn-primary">Buy house on @ownedField</button>
                                        <br>
                                    </div>
                                }
                            }-->
                            <br>
                            <div>
                                <a href="/game/e">
                                    <input type="button" value="end turn"/>
                                </a>
                            </div>
                        </div>
                    }
                </span>
                <span class="col-lg-1"></span>
            </div>
        </div>
    </body>

}
